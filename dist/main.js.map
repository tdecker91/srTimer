{"version":3,"file":"main.js","mappings":"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","sources":["webpack://sr-timer/webpack/universalModuleDefinition","webpack://sr-timer/webpack/bootstrap","webpack://sr-timer/webpack/runtime/define property getters","webpack://sr-timer/webpack/runtime/hasOwnProperty shorthand","webpack://sr-timer/webpack/runtime/make namespace object","webpack://sr-timer/./src/models.ts","webpack://sr-timer/./src/util.ts","webpack://sr-timer/./src/index.ts"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"sr-timer\"] = factory();\n\telse\n\t\troot[\"sr-timer\"] = factory();\n})(self, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var KeyCodes = /** @class */ (function () {\n    function KeyCodes() {\n    }\n    KeyCodes.Space = 32;\n    return KeyCodes;\n}());\nexport { KeyCodes };\n","/**\n * adds 0's to the front of a number returns a string representation of the number\n */\nexport function prependZeros(number, digits) {\n    var stringNumber = number.toString();\n    var length = stringNumber.length;\n    for (var i = 0; i < digits - length; i++) {\n        stringNumber = \"0\" + stringNumber;\n    }\n    return stringNumber;\n}\n/**\n * add 0's to the end of a number\n */\nexport function appendZeros(number, digits) {\n    var stringNumber = number.toString();\n    var length = stringNumber.length;\n    for (var i = 0; i < digits - length; i++) {\n        stringNumber = stringNumber + \"0\";\n    }\n    return stringNumber;\n}\n/**\n * formats milliseconds for display on the timer face\n * by padding with 0s as necessary\n */\nfunction formatMiliseconds(number, digits) {\n    return prependZeros(number, 3).substring(0, digits);\n}\n/**\n * Converts milliseconds to a clock face display ex. \"00:00.0\"\n */\nexport function formatTime(totalMilliseconds) {\n    if (totalMilliseconds == undefined) {\n        return \"00:00.00\";\n    }\n    var hours = Math.floor(totalMilliseconds / 1000 / 60 / 60);\n    var minutes = Math.floor((totalMilliseconds % 3600000) / 1000 / 60);\n    var seconds = Math.floor(((totalMilliseconds % 3600000) % 60000) / 1000);\n    var milliseconds = Math.floor(((totalMilliseconds % 3600000) % 60000) % 1000);\n    return ((hours > 0 ? prependZeros(hours, 2) + \":\" : \"\") +\n        prependZeros(minutes, 2) +\n        \":\" +\n        prependZeros(seconds, 2) +\n        \".\" +\n        formatMiliseconds(milliseconds, 2));\n}\n","import { KeyCodes } from \"./models\";\nimport { formatTime } from \"./util\";\nvar SRTimer = /** @class */ (function () {\n    function SRTimer(keyCode, tickInterval) {\n        if (keyCode === void 0) { keyCode = KeyCodes.Space; }\n        if (tickInterval === void 0) { tickInterval = 15; }\n        this.startTime = 0;\n        this.endTime = 0;\n        this.running = false;\n        this.isReset = false;\n        this.startListeners = [];\n        this.stopListeners = [];\n        this.resetListeners = [];\n        this.tickListeners = [];\n        this.timerKey = keyCode;\n        this.tickInterval = tickInterval;\n        this.unbind = this.bind();\n    }\n    SRTimer.prototype.bind = function () {\n        if (!this.timerKey)\n            return function () { }; // Don't bind to window events\n        var keyUpRef = this.onKeyUp.bind(this);\n        var keyDownRef = this.onKeyDown.bind(this);\n        window.addEventListener(\"keyup\", keyUpRef);\n        window.addEventListener(\"keydown\", keyDownRef);\n        return function () {\n            window.removeEventListener(\"keyup\", keyUpRef);\n            window.removeEventListener(\"keydown\", keyDownRef);\n        };\n    };\n    SRTimer.prototype.tickTimer = function () {\n        var rawTime = this.getRawElapsedTime();\n        var displayTime = formatTime(rawTime);\n        var tickEvent = {\n            time: rawTime,\n            displayTime: displayTime\n        };\n        this.fireListeners(this.tickListeners, tickEvent);\n    };\n    SRTimer.prototype.onKeyUp = function (e) {\n        var _this = this;\n        var key = e.keyCode ? e.keyCode : e.which;\n        if (key !== this.timerKey)\n            return;\n        if (this.running) {\n            this.stop();\n            clearInterval(this.ticker);\n        }\n        else {\n            this.start();\n            this.ticker = (setInterval(function () { return _this.tickTimer(); }, this.tickInterval));\n        }\n    };\n    SRTimer.prototype.onKeyDown = function (e) {\n        var key = e.keyCode ? e.keyCode : e.which;\n        if (key !== this.timerKey)\n            return;\n        if (!this.running) {\n            this.reset();\n        }\n    };\n    SRTimer.prototype.fireListeners = function (listeners, args) {\n        listeners.forEach(function (listener) {\n            listener(args);\n        });\n    };\n    /**\n     * Returns the current elapsed time in miliseconds\n     */\n    SRTimer.prototype.getRawElapsedTime = function () {\n        if (this.startTime == undefined) {\n            return 0;\n        }\n        var elapsedTime;\n        if (this.running) {\n            elapsedTime = new Date(new Date().getTime() - this.startTime);\n        }\n        else {\n            elapsedTime = new Date(this.endTime - this.startTime);\n        }\n        return elapsedTime.getTime();\n    };\n    SRTimer.prototype.start = function () {\n        this.isReset = false;\n        this.running = true;\n        this.startTime = new Date().getTime();\n        this.fireListeners(this.startListeners, null);\n    };\n    SRTimer.prototype.stop = function () {\n        this.running = false;\n        this.endTime = new Date().getTime();\n        var event = {\n            time: this.getRawElapsedTime(),\n            displayTime: this.getElapsedTime()\n        };\n        this.fireListeners(this.stopListeners, event);\n    };\n    SRTimer.prototype.reset = function () {\n        if (!this.isReset) {\n            this.isReset = true;\n            this.startTime = undefined;\n            this.fireListeners(this.resetListeners, null);\n        }\n    };\n    SRTimer.prototype.isRunning = function () {\n        return this.running;\n    };\n    /**\n     * Gives the current elapsed time as a formatted string\n     */\n    SRTimer.prototype.getElapsedTime = function () {\n        if (this.startTime == undefined) {\n            return formatTime(this.startTime);\n        }\n        return formatTime(this.getRawElapsedTime());\n    };\n    SRTimer.prototype.addStartListener = function (listener) {\n        this.startListeners.push(listener);\n    };\n    SRTimer.prototype.addStopListener = function (listener) {\n        this.stopListeners.push(listener);\n    };\n    SRTimer.prototype.addResetListener = function (listener) {\n        this.resetListeners.push(listener);\n    };\n    SRTimer.prototype.addTickListener = function (listener) {\n        this.tickListeners.push(listener);\n    };\n    return SRTimer;\n}());\nexport default SRTimer;\n"],"names":["root","factory","exports","module","define","amd","self","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","KeyCodes","Space","prependZeros","number","digits","stringNumber","toString","length","i","formatTime","totalMilliseconds","undefined","hours","Math","floor","minutes","seconds","milliseconds","substring","SRTimer","keyCode","tickInterval","this","startTime","endTime","running","isReset","startListeners","stopListeners","resetListeners","tickListeners","timerKey","unbind","bind","keyUpRef","onKeyUp","keyDownRef","onKeyDown","window","addEventListener","removeEventListener","tickTimer","rawTime","getRawElapsedTime","tickEvent","time","displayTime","fireListeners","e","_this","which","stop","clearInterval","ticker","start","setInterval","reset","listeners","args","forEach","listener","Date","getTime","event","getElapsedTime","isRunning","addStartListener","push","addStopListener","addResetListener","addTickListener"],"sourceRoot":""}